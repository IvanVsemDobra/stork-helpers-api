{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Desktop/OnboardingPage/lib/validation/onboarding.schema.ts"],"sourcesContent":["import * as Yup from 'yup'\r\n\r\nexport const onboardingSchema = Yup.object({\r\n  name: Yup.string().required('Імʼя обовʼязкове'),\r\n  birthDate: Yup.date().required('Дата народження обовʼязкова'),\r\n  gender: Yup.string().required('Стать обовʼязкова'),\r\n  avatar: Yup.mixed().required('Аватар обовʼязковий')\r\n})"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,mBAAmB,6IAAU,CAAC;IACzC,MAAM,6IAAU,GAAG,QAAQ,CAAC;IAC5B,WAAW,2IAAQ,GAAG,QAAQ,CAAC;IAC/B,QAAQ,6IAAU,GAAG,QAAQ,CAAC;IAC9B,QAAQ,4IAAS,GAAG,QAAQ,CAAC;AAC/B"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Desktop/OnboardingPage/lib/api/onboarding.ts"],"sourcesContent":["export async function submitOnboarding(data: FormData) {\r\n  const res = await fetch('/api/onboarding', {\r\n    method: 'POST',\r\n    body: data,\r\n  })\r\n\r\n  if (!res.ok) {\r\n    const error = await res.json()\r\n    throw new Error(error.message || 'Помилка запиту')\r\n  }\r\n\r\n  return res.json()\r\n}"],"names":[],"mappings":";;;;AAAO,eAAe,iBAAiB,IAAc;IACnD,MAAM,MAAM,MAAM,MAAM,mBAAmB;QACzC,QAAQ;QACR,MAAM;IACR;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/OneDrive/Desktop/OnboardingPage/app/%28private%29/profile/edit/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik'\r\nimport { useMutation } from '@tanstack/react-query'\r\nimport toast from 'react-hot-toast'\r\nimport { useRouter } from 'next/navigation'\r\nimport styles from './OnboardingForm.module.css'\r\n\r\nimport { onboardingSchema } from '@/lib/validation/onboarding.schema'\r\nimport { submitOnboarding } from '@/lib/api/onboarding'\r\n\r\ninterface OnboardingFormValues {\r\n  name: string\r\n  birthDate: string\r\n  gender: string\r\n  avatar: File | null\r\n}\r\n\r\nexport default function OnboardingForm() {\r\n  const router = useRouter()\r\n  const defaultAvatar = '/images/avatar-image.svg'\r\n  const [preview, setPreview] = useState(defaultAvatar)\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: (formData: FormData) => submitOnboarding(formData),\r\n    onSuccess: () => {\r\n      toast.success('Форма успішно надіслана!')\r\n      router.push('/')\r\n    },\r\n    onError: (err: Error) =>\r\n      toast.error(err.message || 'Помилка при відправці'),\r\n  })\r\n\r\n  return (\r\n    <Formik<OnboardingFormValues>\r\n      initialValues={{\r\n        name: '',\r\n        birthDate: '',\r\n        gender: '',\r\n        avatar: null,\r\n      }}\r\n      validationSchema={onboardingSchema}\r\n      onSubmit={(values) => {\r\n        const formData = new FormData()\r\n        formData.append('name', values.name)\r\n        formData.append('birthDate', values.birthDate)\r\n        formData.append('gender', values.gender)\r\n        if (values.avatar) formData.append('avatar', values.avatar)\r\n        mutation.mutate(formData)\r\n      }}\r\n    >\r\n      {({ setFieldValue, values }) => {\r\n        useEffect(() => {\r\n          if (!values.avatar) {\r\n            setPreview(defaultAvatar)\r\n            return\r\n          }\r\n\r\n          const url = URL.createObjectURL(values.avatar)\r\n          setPreview(url)\r\n\r\n          return () => URL.revokeObjectURL(url)\r\n        }, [values.avatar])\r\n\r\n        return (\r\n          <Form className={styles.form}>\r\n            <div className={styles.avatar}>\r\n              <img\r\n                src={preview}\r\n                alt=\"Avatar preview\"\r\n                width={164}\r\n                height={164}\r\n                style={{ borderRadius: '50%', objectFit: 'cover' }}\r\n              />\r\n\r\n              <label htmlFor=\"avatar-upload\">\r\n                <button type=\"button\" className={styles.uploadButton}>\r\n                  Завантажити фото\r\n                </button>\r\n              </label>\r\n\r\n              <input\r\n                id=\"avatar-upload\"\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                hidden\r\n                onChange={(e) =>\r\n                  setFieldValue(\r\n                    'avatar',\r\n                    e.currentTarget.files?.[0] || null\r\n                  )\r\n                }\r\n              />\r\n\r\n              <ErrorMessage name=\"avatar\" component=\"div\" className={styles.error} />\r\n            </div>\r\n\r\n            <div className={styles.formUser}>\r\n              <ErrorMessage name=\"name\" component=\"div\" className={styles.error} />\r\n\r\n              <label className={styles.inputText}>\r\n                Планова дата пологів\r\n              </label>\r\n              <Field name=\"birthDate\" type=\"date\" className={styles.inputForm} />\r\n              <ErrorMessage name=\"birthDate\" component=\"div\" className={styles.error} />\r\n\r\n              <label className={styles.inputText}>\r\n                Стать дитини\r\n              </label>\r\n              <Field name=\"gender\" as=\"select\" className={styles.inputForm}>\r\n                <option value=\"\">Оберіть стать</option>\r\n                <option value=\"male\">Хлопчик</option>\r\n                <option value=\"female\">Дівчинка</option>\r\n                <option value=\"unknown\">Ще не знаю</option>\r\n              </Field>\r\n\r\n              <ErrorMessage name=\"gender\" component=\"div\" className={styles.error} />\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={mutation.isPending}\r\n                className={styles.submitButton}\r\n              >\r\n                {mutation.isPending ? 'Відправка...' : 'Зберегти'}\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        )\r\n      }}\r\n    </Formik>\r\n  )\r\n}"],"names":[],"mappings":"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"}}]
}